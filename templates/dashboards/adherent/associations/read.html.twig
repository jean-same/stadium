{% extends 'baseDashboardAdherent.html.twig' %}

{% block title %}Associations!
{% endblock %}

{% block body %}

	<div id="main">

		<header class="mb-3">
			<a href="#" class="burger-btn d-block d-xl-none default-color">
				<i class="fa fa-bars fs-3" aria-hidden="true"></i>
			</a>
		</header>
		<h1 class="title-adherent-pages">Associations</h1>
		<div class="row">
			<div class="col-lg-6">
				<div class="card">
					<div class="card-header">
						<h4>Photos</h4>
						<p>Decouvrez un résumé de notre galerie photos</p>
					</div>
					<div class="card-body">
						<div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
							<div class="carousel-inner association-read-adherent">
								<div class="carousel-item active">
									<img src="https://picsum.photos/400" class="d-block w-100" alt="...">
								</div>
								<div class="carousel-item">
									<img src="https://source.unsplash.com/random" class="d-block w-100" alt="...">
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-6">
				<section class="section">
					<div class="card association-details-card">
						<div class="card-header">
							<h2 class="float-start">
								{{ association.name }}
							</h2>
							{% if profile.association is null %}
								<a href="{{ path('dashboards_adherent_associations_register' , { slug: profileSlug , assocSlug : association.slug }) }} " class="btn principal-color float-end">
									Rejoindre
								</a>
							{% endif %}
						</div>
						<div class="card-body">
							<p>
								<span class="font-extrabold">Président:
								</span>
								:
								<span>
									{{ association.presidentLastName }}
									{{ association.presidentFirstName }}
								</span>
							</p>
							<p>
								<span class="font-extrabold">Adresse:
								</span>
								:
								<span>
									{{ association.address }}
								</span>
							</p>
							<p>
								<span class="font-extrabold">Téléphone:
								</span>
								:
								<span>
									{{ association.phoneNumber }}
								</span>
							</p>
							<p>
								<span>
									Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus accusamus enim, iste ipsa temporibus molestiae corporis assumenda tempora quisquam doloribus modi quos repudiandae itaque eos a quidem adipisci magni recusandae.
																																																			Lorem ipsum dolor sit amet consectetur adipisicing elit. At aliquam debitis, error repellat distinctio dolore quisquam nobis voluptas rem possimus, beatae magni! Ratione, necessitatibus! Provident rem deleniti sunt aspernatur impedit.
								</span>
							</p>
							quibusdam ratione ullam!
						</div>
					</div>
				</section>
			</div>
			<div class="col-lg-12">
				<div class="card">

					<div class="col-md-12">
						<div class="card">
							<div class="card-header">
								<h4 class="text-center">Decouvrez les activités et les evenements qu'on propose</h4>
							</div>
							<div class="card-body">
								<ul class="nav nav-tabs d-flex justify-content-evenly" id="myTab" role="tablist">
									<li class="nav-item" role="presentation">
										<a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="#activity" role="tab" aria-controls="activity" aria-selected="true">Activités</a>
									</li>
									<li class="nav-item" role="presentation">
										<a class="nav-link" id="event-tab" data-bs-toggle="tab" href="#event" role="tab" aria-controls="event" aria-selected="false">Evenements</a>
									</li>
								</ul>
								<div class="tab-content" id="myTabContent">
									<div class="tab-pane fade show active" id="activity" role="tabpanel" aria-labelledby="activity-tab">
										<div class="row">
											{% for activity in association.activities %}

												<div class="card  p-0 activity-card-body col-md-3" style="background: url({{ activity.picture }}); background-size: cover; ">
													<div class="card-content text-center">
														<div class="card-body">
															<h3 class="card-text activity-card-body-title">
																<span class="text-bold-500"></span>
																{{ activity.name }}
															</h3>
														</div>
													</div>
												</div>

											{% endfor %}
										</div>
									</div>
									<div class="tab-pane fade" id="event" role="tabpanel" aria-labelledby="event-tab">

										<div class="row events-div">
											{% for event in association.events %}
												{% set nbPlacesLeft = event.maxParticipants - event.profiles | length %}
												<div class="card card-adherent mb-3 col-sm-3">
													<div class="row g-0">
														<div class="col-md-6 card-picture">
															<img src="{{ event.picture }}" class="img-fluid rounded-start" alt="...">
														</div>
														<div class="col-md-6">
															<div class="card-body card-body-adherent">
																<h3 class="card-text">
																	<span class="text-bold-500"></span>
																	{{ event.name }}
																</h3>
																<p class="card-text">
																	<span class="text-bold-500"></span>
																	{{ event.startDate | date("d-m-Y") }}
																	-
																	{{ event.endDate | date("d-m-Y") }}
																</p>
																<p class="card-text">
																	<span class="text-bold-500"></span>
																	{{ event.schedule | format_datetime('none', 'short', locale='en') }}
																</p>
																<p class="card-text">
																	<span class="text-bold-500"></span>
																	{{ event.place}}
																</p>
																<p class="card-text">
																	{% if nbPlacesLeft <= 0  %}
																		<span class="badge second-color-background">Complet</span>
																	{% else %}
																		<span class="text-bold-500 badge bg-{{ nbPlacesLeft > 10 ? 'success' : 'danger' }}">
																			{{ nbPlacesLeft }}
																			places libre
																		</span>
																	{% endif %}
																</p>
															</div>
														</div>
													</div>

												</div>
											{% endfor %}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

		{% endblock %}
